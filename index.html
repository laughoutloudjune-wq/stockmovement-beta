<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover" />
  <title>Stock Inventory Web App (Beta)</title>
  <style>
    :root{
      --space-1:.5rem; --space-2:.75rem; --space-3:1rem; --space-4:1.25rem;
      --radius: 14px; --radius-pill: 9999px;
      --border-weak: rgba(0,0,0,.06);
      --border: rgba(0,0,0,.10);
      --bg:#eef1f6; --card: rgba(255,255,255,0.9); --text:#0b0b0d;
      --accent:#0a84ff; --accent-weak:#e5f0ff;
      --shadow-s: 0 2px 6px rgba(0,0,0,.06);
      --shadow-m: 0 6px 16px rgba(0,0,0,.10);
      --shadow-l: 0 12px 26px rgba(0,0,0,.12);
      --input-border: rgba(0,0,0,0.12);
      --input-shadow: 0 2px 8px rgba(0,0,0,.08);
    }
    *,*::before,*::after{ box-sizing:border-box }
    body{ margin:0; font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background:#f4f6fb; color:#0d1117 }
    .container{ width:min(1100px, 96vw); margin: 2rem auto; display:flex; flex-direction:column; gap:1rem }
    .glass{ background: var(--card); border: 1px solid var(--border); border-radius: var(--radius);
      box-shadow: var(--shadow-m); backdrop-filter: saturate(160%) blur(10px); -webkit-backdrop-filter: saturate(160%) blur(10px); }
    header{ display:flex; align-items:center; gap:.5rem; padding: .75rem 1rem }
    .tabs{ display:flex; gap:.5rem; padding:.45rem; overflow:auto; border-radius:var(--radius-pill); background:#fff; border:1px solid var(--border); box-shadow: var(--shadow-s) }
    .tabs button{ padding:.6rem 1rem; border-radius:var(--radius-pill); border:1px solid transparent; background:transparent; font-weight:700; cursor:pointer }
    .tabs button.active{ background:#fff; border-color:var(--border); box-shadow: var(--shadow-s); color:#0a84ff }
    main{ min-height: 60vh; padding:1rem }
    .btn{ padding:.5rem .9rem; border-radius:999px; border:1px solid var(--border); background:#fff; box-shadow: var(--shadow-s); cursor:pointer; font-weight:700 }
    .btn.primary{ background:linear-gradient(145deg,#0a84ff,#4da3ff); color:#fff; border-color:transparent }
    .btn.small{ padding:.35rem .6rem; font-size:.85rem }
    .chip{ background:#eef2ff; border:1px solid #dfe6ff; border-radius:999px; padding:.15rem .55rem; font-weight:700 }
    .meta{ opacity:.6; font-size:.85rem }
    .tbl{ width:100%; border-collapse:collapse; font-size:.95rem }
    .tbl th, .tbl td{ padding:.5rem .6rem; border-bottom:1px solid rgba(0,0,0,.06) }
    .tbl thead th{ position:sticky; top:0; z-index:1; background:rgba(255,255,255,.95); backdrop-filter: blur(6px) }
    .toast{ position:fixed; left:50%; bottom:3rem; transform:translateX(-50%); background:#111; color:#fff; padding:.6rem 1rem; border-radius:999px; display:none; z-index:3000 }
    .toast.show{ display:block }
    /* modal + picker */
    #pickerOverlay{ position:fixed; inset:0; z-index:4000; display:none; align-items:center; justify-content:center; background:rgba(15,18,23,0.35); backdrop-filter: blur(3px); }
    #pickerOverlay.open{ display:flex }
    #pickerBox{ background:#fff; border:1px solid var(--border); border-radius:18px; box-shadow: var(--shadow-l); display:flex; flex-direction:column; width:100%; height:100%; overflow:hidden }
    .picker-header{ display:flex; gap:.5rem; align-items:center; padding:.75rem; border-bottom:1px solid var(--border-weak); background:#fff }
    .picker-list{ flex:1; overflow:auto; -webkit-overflow-scrolling:touch; padding:.6rem .75rem; display:flex; flex-direction:column; gap:.5rem; background:#fff }
    @media (min-width: 769px){ #pickerBox{ width:520px; height:70vh } }
    .list-btn{ width:100%; text-align:left; padding:.6rem .75rem; border:1px solid var(--border-weak); background:#fff; border-radius:10px; }
    .modal{ width:min(860px, 96vw); max-height:80vh; overflow:auto; border-radius:18px; padding:0 }
    .modal-hd{ padding:1rem 1.2rem; border-bottom:1px solid var(--border-weak); background:#fff; position:sticky; top:0 }
    .modal-bd{ padding:1rem 1.2rem; background:#fff }
    .modal-ft{ padding:.75rem 1.2rem; display:flex; gap:.5rem; justify-content:flex-end; border-top:1px solid var(--border-weak); background:#fff; position:sticky; bottom:0 }
    .grid2{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:.75rem }
    .filters input{ width:100%; padding:.5rem .65rem; border-radius:10px; border:1px solid var(--input-border); background:#fff; box-shadow: var(--input-shadow) }
  </style>
  <script>
    // Set your BETA Apps Script Web App URL here
    // window.API_URL = "https://script.google.com/macros/s/AKfycbxQdBQQXnKOtfgQMxM3tdFPytu66CigJXL3n-bKybcmKbMSZ6lBp_Msd87_mEdxTyBZ/exec";
  </script>
</head>
<body>
  <div class="container">
    <header class="glass">
      <div style="margin-left:auto; display:flex; gap:.5rem">
        <button id="lang-th" class="btn small">ไทย</button>
        <button id="lang-en" class="btn small">EN</button>
        <button id="refreshDataBtn" class="btn small">↻</button>
      </div>
    </header>

    <div class="tabs glass" id="tabs">
      <button data-tab="dashboard" class="active" type="button">สรุป</button>
      <button data-tab="out" type="button">จ่ายออก</button>
      <button data-tab="in" type="button">รับเข้า</button>
      <button data-tab="adjust" type="button">ปรับปรุง</button>
      <button data-tab="purchase" type="button">ขอจัดซื้อ</button>
    </div>

    <main id="view" class="glass"></main>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- Picker -->
  <div id="pickerOverlay" aria-hidden="true">
    <div id="pickerBox" role="dialog" aria-modal="true">
      <div class="picker-header">
        <input id="pickerSearch" placeholder="ค้นหา…" inputmode="search" />
        <button class="btn" id="pickerCancel" type="button">ปิด</button>
      </div>
      <div class="picker-list" id="pickerList"></div>
      <div class="picker-actions" style="padding:.5rem .75rem; border-top:1px solid var(--border-weak)">
        <button class="btn" id="pickerAdd" type="button" title="เพิ่มใหม่" style="display:none">เพิ่ม “<span id="pickerAddText"></span>”</button>
      </div>
    </div>
  </div>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
